# ðŸŒ Browser Web APIs Reference Guide

> A comprehensive guide to the most popular and widely used browser Web APIs that every web developer should know.

## ðŸ“‘ Table of Contents

1. [ðŸŽ¯ Introduction to Web APIs](#-introduction-to-web-apis)
2. [ðŸ—ï¸ DOM APIs](#ï¸-dom-apis)
3. [ Storage APIs](#-storage-apis)
4. [ðŸŒ Network APIs](#-network-apis)
5. [ðŸ“ Geolocation API](#-geolocation-api)
6. [ðŸ”” Notification API](#-notification-api)
7. [ðŸ“± Device APIs](#-device-apis)
8. [ðŸŽµ Media APIs](#-media-apis)
9. [â° Timer APIs](#-timer-apis)
10. [ðŸ” Security APIs](#-security-apis)
11. [ðŸ“Š Performance APIs](#-performance-apis)
12. [ðŸ’¡ Best Practices](#-best-practices)
13. [ðŸ”— Resources](#-resources)

---

## ðŸŽ¯ Introduction to Web APIs

Web APIs (Application Programming Interfaces) are built into web browsers and provide JavaScript with access to browser functionality and device features. They enable developers to create rich, interactive web applications.

### Key Concepts:
- **Browser Support**: Always check compatibility before using
- **Permissions**: Many APIs require user permission
- **Security**: Most APIs work only over HTTPS
- **Progressive Enhancement**: Provide fallbacks for unsupported browsers

---

## ðŸ—ï¸ DOM APIs

### Document Object Model (DOM)
The foundation for manipulating HTML and CSS.

```javascript
// Element Selection
const element = document.getElementById('myId');
const elements = document.querySelectorAll('.myClass');
const firstDiv = document.querySelector('div');

// Element Creation & Manipulation
const newDiv = document.createElement('div');
newDiv.textContent = 'Hello World';
newDiv.classList.add('highlight');
document.body.appendChild(newDiv);

// Event Handling
element.addEventListener('click', (event) => {
    console.log('Element clicked!', event);
});

// Style Manipulation
element.style.backgroundColor = 'blue';
element.style.transform = 'translateX(100px)';
```

### Intersection Observer API
Efficiently observe visibility changes of elements.

```javascript
const observer = new IntersectionObserver((entries) => {
    entries.forEach(entry => {
        if (entry.isIntersecting) {
            console.log('Element is visible!');
            entry.target.classList.add('animate');
        }
    });
});

observer.observe(document.querySelector('.lazy-load'));
```

### Mutation Observer API
Watch for changes in the DOM tree.

```javascript
const observer = new MutationObserver((mutations) => {
    mutations.forEach(mutation => {
        console.log('DOM changed:', mutation.type);
    });
});

observer.observe(document.body, {
    childList: true,
    subtree: true,
    attributes: true
});
```

---

##  Storage APIs

### Local Storage
Persistent client-side storage (up to ~10MB).

```javascript
// Store data
localStorage.setItem('username', 'john_doe');
localStorage.setItem('preferences', JSON.stringify({theme: 'dark'}));

// Retrieve data
const username = localStorage.getItem('username');
const preferences = JSON.parse(localStorage.getItem('preferences'));

// Remove data
localStorage.removeItem('username');
localStorage.clear(); // Clear all
```

### Session Storage
Temporary storage (cleared when tab closes).

```javascript
// Same API as localStorage
sessionStorage.setItem('tempData', 'temporary value');
const tempData = sessionStorage.getItem('tempData');
```

### IndexedDB API
Large-scale client-side database storage.

```javascript
const request = indexedDB.open('MyDatabase', 1);

request.onerror = () => console.log('Database error');
request.onsuccess = (event) => {
    const db = event.target.result;
    console.log('Database opened successfully');
};

request.onupgradeneeded = (event) => {
    const db = event.target.result;
    const objectStore = db.createObjectStore('users', {keyPath: 'id'});
    objectStore.createIndex('name', 'name', {unique: false});
};
```

---

## ðŸŒ Network APIs

### Fetch API
Modern way to make HTTP requests.

```javascript
// GET request
fetch('https://api.example.com/data')
    .then(response => response.json())
    .then(data => console.log(data))
    .catch(error => console.error('Error:', error));

// POST request
fetch('https://api.example.com/users', {
    method: 'POST',
    headers: {
        'Content-Type': 'application/json',
    },
    body: JSON.stringify({
        name: 'John Doe',
        email: 'john@example.com'
    })
})
.then(response => response.json())
.then(data => console.log('Success:', data));

// Async/await syntax
async function fetchData() {
    try {
        const response = await fetch('https://api.example.com/data');
        const data = await response.json();
        return data;
    } catch (error) {
        console.error('Error:', error);
    }
}
```

### WebSocket API
Real-time bidirectional communication.

```javascript
const socket = new WebSocket('wss://example.com/socket');

socket.onopen = (event) => {
    console.log('Connected to server');
    socket.send('Hello Server!');
};

socket.onmessage = (event) => {
    console.log('Message from server:', event.data);
};

socket.onclose = (event) => {
    console.log('Connection closed');
};

socket.onerror = (error) => {
    console.error('WebSocket error:', error);
};
```

---

## ðŸ“ Geolocation API

Get the user's geographical location.

```javascript
if ('geolocation' in navigator) {
    navigator.geolocation.getCurrentPosition(
        (position) => {
            const latitude = position.coords.latitude;
            const longitude = position.coords.longitude;
            console.log(`Location: ${latitude}, ${longitude}`);
        },
        (error) => {
            console.error('Geolocation error:', error.message);
        },
        {
            enableHighAccuracy: true,
            timeout: 5000,
            maximumAge: 0
        }
    );
} else {
    console.log('Geolocation not supported');
}

// Watch position changes
const watchId = navigator.geolocation.watchPosition(
    (position) => {
        console.log('Position updated:', position.coords);
    }
);

// Stop watching
navigator.geolocation.clearWatch(watchId);
```

---

## ðŸ”” Notification API

Display native system notifications.

```javascript
// Request permission
async function requestNotificationPermission() {
    if ('Notification' in window) {
        const permission = await Notification.requestPermission();
        return permission === 'granted';
    }
    return false;
}

// Create notification
function showNotification(title, options = {}) {
    if (Notification.permission === 'granted') {
        const notification = new Notification(title, {
            body: 'This is the notification body',
            icon: '/icon.png',
            badge: '/badge.png',
            tag: 'unique-tag',
            ...options
        });

        notification.onclick = () => {
            window.focus();
            notification.close();
        };

        // Auto close after 5 seconds
        setTimeout(() => notification.close(), 5000);
    }
}

// Usage
requestNotificationPermission().then(granted => {
    if (granted) {
        showNotification('Hello!', {
            body: 'Thanks for enabling notifications!'
        });
    }
});
```

---

## ðŸ“± Device APIs

### Screen Orientation API
Control and detect screen orientation.

```javascript
// Lock orientation
screen.orientation.lock('portrait').then(() => {
    console.log('Orientation locked to portrait');
}).catch(error => {
    console.error('Failed to lock orientation:', error);
});

// Listen for orientation changes
screen.orientation.addEventListener('change', () => {
    console.log('Orientation changed to:', screen.orientation.angle);
});
```

### Vibration API
Control device vibration.

```javascript
// Simple vibration
navigator.vibrate(200); // Vibrate for 200ms

// Pattern vibration
navigator.vibrate([100, 50, 100, 50, 300]); // Vibrate, pause, vibrate...

// Stop vibration
navigator.vibrate(0);
```

### Battery API (Deprecated but useful for understanding)
```javascript
// Note: This API is deprecated in most browsers
navigator.getBattery().then(battery => {
    console.log('Battery level:', battery.level * 100 + '%');
    console.log('Charging:', battery.charging);
    console.log('Charging time:', battery.chargingTime);
    console.log('Discharging time:', battery.dischargingTime);
});
```

---

## ðŸŽµ Media APIs

### getUserMedia API
Access camera and microphone.

```javascript
async function startCamera() {
    try {
        const stream = await navigator.mediaDevices.getUserMedia({
            video: true,
            audio: true
        });
        
        const video = document.getElementById('video');
        video.srcObject = stream;
        video.play();
        
        return stream;
    } catch (error) {
        console.error('Error accessing media devices:', error);
    }
}

// Get available devices
async function getDevices() {
    try {
        const devices = await navigator.mediaDevices.enumerateDevices();
        devices.forEach(device => {
            console.log(device.kind + ': ' + device.label);
        });
    } catch (error) {
        console.error('Error getting devices:', error);
    }
}
```

### Web Audio API
Process and synthesize audio.

```javascript
const audioContext = new (window.AudioContext || window.webkitAudioContext)();

// Play a tone
function playTone(frequency, duration) {
    const oscillator = audioContext.createOscillator();
    const gainNode = audioContext.createGain();
    
    oscillator.connect(gainNode);
    gainNode.connect(audioContext.destination);
    
    oscillator.frequency.value = frequency;
    oscillator.type = 'sine';
    
    gainNode.gain.setValueAtTime(0.3, audioContext.currentTime);
    gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + duration);
    
    oscillator.start(audioContext.currentTime);
    oscillator.stop(audioContext.currentTime + duration);
}

// Play 440Hz tone for 1 second
playTone(440, 1);
```

---

## â° Timer APIs

### setTimeout & setInterval
Execute code after delays or at intervals.

```javascript
// Execute once after delay
const timeoutId = setTimeout(() => {
    console.log('This runs after 2 seconds');
}, 2000);

// Cancel timeout
clearTimeout(timeoutId);

// Execute repeatedly
const intervalId = setInterval(() => {
    console.log('This runs every 1 second');
}, 1000);

// Cancel interval
clearInterval(intervalId);

// Modern alternative with better performance
function rafLoop() {
    console.log('Animation frame');
    requestAnimationFrame(rafLoop);
}
requestAnimationFrame(rafLoop);
```

---

##  Security APIs

### Crypto API
Cryptographic operations in the browser.

```javascript
// Generate random values
const array = new Uint32Array(10);
crypto.getRandomValues(array);
console.log('Random values:', array);

// Generate UUID
function generateUUID() {
    return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, (c) => {
        const r = Math.random() * 16 | 0;
        const v = c === 'x' ? r : (r & 0x3 | 0x8);
        return v.toString(16);
    });
}

// Subtle Crypto for advanced operations
async function hashMessage(message) {
    const encoder = new TextEncoder();
    const data = encoder.encode(message);
    const hash = await crypto.subtle.digest('SHA-256', data);
    return Array.from(new Uint8Array(hash))
        .map(b => b.toString(16).padStart(2, '0'))
        .join('');
}

// Usage
hashMessage('Hello World').then(hash => {
    console.log('SHA-256 hash:', hash);
});
```

---

## ðŸ“Š Performance APIs

### Performance API
Measure and monitor performance.

```javascript
// Measure timing
performance.mark('start-operation');

// Some operation
for (let i = 0; i < 1000000; i++) {
    // Do something
}

performance.mark('end-operation');
performance.measure('my-operation', 'start-operation', 'end-operation');

// Get measurements
const measures = performance.getEntriesByType('measure');
console.log('Operation took:', measures[0].duration, 'ms');

// Navigation timing
const navigation = performance.getEntriesByType('navigation')[0];
console.log('Page load time:', navigation.loadEventEnd - navigation.fetchStart, 'ms');

// Resource timing
const resources = performance.getEntriesByType('resource');
resources.forEach(resource => {
    console.log(resource.name, 'took', resource.duration, 'ms');
});
```

### Intersection Observer (Performance)
Efficiently track element visibility.

```javascript
const observer = new IntersectionObserver((entries) => {
    entries.forEach(entry => {
        if (entry.isIntersecting) {
            // Load content when visible
            loadContent(entry.target);
        }
    });
}, {
    threshold: 0.1,
    rootMargin: '50px'
});

// Observe multiple elements
document.querySelectorAll('.lazy-load').forEach(el => {
    observer.observe(el);
});
```

---

## ðŸ’¡ Best Practices

### 1. Feature Detection
Always check if an API is supported before using it.

```javascript
if ('serviceWorker' in navigator) {
    // Use Service Worker
} else {
    console.log('Service Workers not supported');
}

if ('geolocation' in navigator) {
    // Use Geolocation
} else {
    console.log('Geolocation not supported');
}
```

### 2. Error Handling
Implement proper error handling for all APIs.

```javascript
async function safeApiCall() {
    try {
        const result = await someApiCall();
        return result;
    } catch (error) {
        console.error('API call failed:', error);
        // Provide fallback or user-friendly error message
        return null;
    }
}
```

### 3. Permissions
Request permissions appropriately and handle denials gracefully.

```javascript
async function requestPermission(permissionName) {
    try {
        const result = await navigator.permissions.query({name: permissionName});
        
        if (result.state === 'granted') {
            return true;
        } else if (result.state === 'prompt') {
            // Request permission from user
            return await requestUserPermission();
        } else {
            console.log('Permission denied');
            return false;
        }
    } catch (error) {
        console.error('Permission request failed:', error);
        return false;
    }
}
```

### 4. Progressive Enhancement
Build functionality that works without APIs and enhances with them.

```javascript
// Basic functionality without API
function saveData(data) {
    // Fallback: send to server
    return fetch('/api/save', {method: 'POST', body: JSON.stringify(data)});
}

// Enhanced functionality with Storage API
function saveDataEnhanced(data) {
    if ('localStorage' in window) {
        // Save locally first
        localStorage.setItem('backup', JSON.stringify(data));
    }
    
    // Also save to server
    return saveData(data);
}
```

### 5. Performance Considerations
Use APIs efficiently to avoid blocking the main thread.

```javascript
// Use requestAnimationFrame for smooth animations
function animate() {
    // Update animation
    requestAnimationFrame(animate);
}

// Use Web Workers for heavy computations
const worker = new Worker('heavy-computation.js');
worker.postMessage(data);
worker.onmessage = (e) => {
    console.log('Result from worker:', e.data);
};
```

---

## ðŸ”— Resources

### Official Documentation
- [MDN Web APIs](https://developer.mozilla.org/en-US/docs/Web/API)
- [W3C Specifications](https://www.w3.org/TR/)
- [WHATWG Living Standards](https://whatwg.org/)

### Browser Compatibility
- [Can I Use](https://caniuse.com/) - Browser support tables
- [MDN Browser Compatibility](https://developer.mozilla.org/en-US/docs/Web/API#browser_compatibility)

### Tools & Testing
- [Chrome DevTools](https://developer.chrome.com/docs/devtools/)
- [Firefox Developer Tools](https://developer.mozilla.org/en-US/docs/Tools)
- [Web API Playground](https://web-api-playground.com/)

### Learning Resources
- [JavaScript.info Web APIs](https://javascript.info/browser-environment)
- [Google Web Fundamentals](https://developers.google.com/web/fundamentals)
- [Mozilla Developer Network](https://developer.mozilla.org/)

---

*Last updated: November 2025*

> ðŸ’¡ **Pro Tip**: Always test your Web API implementations across different browsers and devices to ensure consistent behavior and graceful degradation.
