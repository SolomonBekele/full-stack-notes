# Audio, Video & iFrame Elements Guide

## Table of Contents
1. [Audio Element](#audio-element)
2. [Video Element](#video-element)
3. [iFrame Element](#iframe-element)
4. [Best Practices](#best-practices)
5. [Accessibility Considerations](#accessibility-considerations)

---

## Audio Element

The `<audio>` element is used to embed sound content in web pages.

### Basic Syntax
```html
<audio controls>
  <source src="audio.mp3" type="audio/mpeg">
  <source src="audio.ogg" type="audio/ogg">
  Your browser does not support the audio element.
</audio>
```

### Audio Attributes

| Attribute | Description | Values |
|-----------|-------------|---------|
| `controls` | Shows play/pause/volume controls | boolean |
| `autoplay` | Starts playing automatically | boolean |
| `loop` | Repeats the audio | boolean |
| `muted` | Starts muted | boolean |
| `preload` | How much to preload | `none`, `metadata`, `auto` |
| `src` | Direct source URL | URL |

### Audio File Formats

| Format | MIME Type | Browser Support |
|--------|-----------|-----------------|
| MP3 | `audio/mpeg` | Excellent |
| OGG | `audio/ogg` | Good (Firefox, Chrome) |
| WAV | `audio/wav` | Good |
| AAC | `audio/aac` | Good |
| WebM Audio | `audio/webm` | Good (Chrome, Firefox) |

### Examples

#### Basic Audio Player
```html
<audio controls>
  <source src="podcast.mp3" type="audio/mpeg">
  <source src="podcast.ogg" type="audio/ogg">
  <p>Your browser doesn't support HTML5 audio.</p>
</audio>
```

#### Autoplay with Loop
```html
<audio controls autoplay loop>
  <source src="background-music.mp3" type="audio/mpeg">
</audio>
```

#### Preload Metadata Only
```html
<audio controls preload="metadata">
  <source src="interview.mp3" type="audio/mpeg">
</audio>
```

---

## Video Element

The `<video>` element is used to embed video content in web pages.

### Basic Syntax
```html
<video width="640" height="480" controls>
  <source src="movie.mp4" type="video/mp4">
  <source src="movie.webm" type="video/webm">
  Your browser does not support the video tag.
</video>
```

### Video Attributes

| Attribute | Description | Values |
|-----------|-------------|---------|
| `controls` | Shows video controls | boolean |
| `autoplay` | Starts playing automatically | boolean |
| `loop` | Repeats the video | boolean |
| `muted` | Starts muted | boolean |
| `preload` | How much to preload | `none`, `metadata`, `auto` |
| `width` | Video width | pixels |
| `height` | Video height | pixels |
| `poster` | Image shown before play | URL |
| `playsinline` | Plays inline on mobile | boolean |

### Video File Formats

| Format | MIME Type | Browser Support |
|--------|-----------|-----------------|
| MP4 | `video/mp4` | Excellent |
| WebM | `video/webm` | Good (Chrome, Firefox) |
| OGV | `video/ogg` | Limited (Firefox) |
| AVI | `video/avi` | Limited |

### Examples

#### Basic Video Player
```html
<video width="800" height="600" controls>
  <source src="demo.mp4" type="video/mp4">
  <source src="demo.webm" type="video/webm">
  <p>Your browser doesn't support HTML5 video.</p>
</video>
```

#### Video with Poster Image
```html
<video width="640" height="480" controls poster="thumbnail.jpg">
  <source src="presentation.mp4" type="video/mp4">
</video>
```

#### Responsive Video
```html
<video width="100%" height="auto" controls>
  <source src="responsive-video.mp4" type="video/mp4">
</video>
```

#### Video with Subtitles
```html
<video controls>
  <source src="movie.mp4" type="video/mp4">
  <track kind="subtitles" src="subtitles-en.vtt" srclang="en" label="English">
  <track kind="subtitles" src="subtitles-es.vtt" srclang="es" label="Spanish">
</video>
```

---

## iFrame Element

The `<iframe>` element is used to embed another HTML document within the current document.

### Basic Syntax
```html
<iframe src="https://example.com" width="600" height="400">
  <p>Your browser does not support iframes.</p>
</iframe>
```

### iFrame Attributes

| Attribute | Description | Values |
|-----------|-------------|---------|
| `src` | URL of the page to embed | URL |
| `width` | Frame width | pixels or % |
| `height` | Frame height | pixels or % |
| `name` | Name of the frame | text |
| `sandbox` | Security restrictions | various flags |
| `allow` | Feature policy | permission list |
| `loading` | Loading behavior | `lazy`, `eager` |
| `referrerpolicy` | Referrer policy | policy name |

### Security Attributes

#### Sandbox Attribute
```html
<iframe src="untrusted.html" sandbox="allow-scripts allow-same-origin">
</iframe>
```

Sandbox flags:
- `allow-forms` - Allow form submission
- `allow-scripts` - Allow JavaScript
- `allow-same-origin` - Allow same-origin access
- `allow-popups` - Allow popups
- `allow-top-navigation` - Allow navigation

#### Content Security Policy
```html
<iframe src="https://example.com" 
        allow="camera; microphone; geolocation">
</iframe>
```

### Examples

#### Basic Web Page Embed
```html
<iframe src="https://www.example.com" 
        width="800" 
        height="600">
</iframe>
```

#### YouTube Video Embed
```html
<iframe width="560" 
        height="315" 
        src="https://www.youtube.com/embed/VIDEO_ID" 
        frameborder="0" 
        allowfullscreen>
</iframe>
```

#### Google Maps Embed
```html
<iframe src="https://www.google.com/maps/embed?pb=..." 
        width="600" 
        height="450" 
        style="border:0;" 
        allowfullscreen="" 
        loading="lazy">
</iframe>
```

#### Responsive iFrame
```html
<div style="position: relative; width: 100%; height: 0; padding-bottom: 56.25%;">
  <iframe src="https://example.com" 
          style="position: absolute; top: 0; left: 0; width: 100%; height: 100%;"
          frameborder="0">
  </iframe>
</div>
```

#### Lazy Loading iFrame
```html
<iframe src="https://example.com" 
        width="600" 
        height="400" 
        loading="lazy">
</iframe>
```

---

## Best Practices

### Audio & Video
1. **Multiple Formats**: Provide multiple source formats for better browser compatibility
2. **Fallback Content**: Always include fallback content for unsupported browsers
3. **Preload Strategy**: Use appropriate preload values (`none`, `metadata`, `auto`)
4. **Responsive Design**: Make videos responsive using CSS
5. **Accessibility**: Provide captions and transcripts
6. **Performance**: Optimize file sizes and consider lazy loading

### iFrames
1. **Security**: Use sandbox attribute for untrusted content
2. **Performance**: Use lazy loading for below-the-fold iframes
3. **Responsive**: Make iframes responsive using CSS techniques
4. **HTTPS**: Always use HTTPS sources when possible
5. **CSP**: Implement proper Content Security Policy

---

## Accessibility Considerations

### Audio Accessibility
```html
<audio controls>
  <source src="podcast.mp3" type="audio/mpeg">
  <p>
    <a href="podcast-transcript.html">Read the transcript</a>
  </p>
</audio>
```

### Video Accessibility
```html
<video controls>
  <source src="tutorial.mp4" type="video/mp4">
  <track kind="captions" 
         src="captions.vtt" 
         srclang="en" 
         label="English Captions" 
         default>
  <track kind="descriptions" 
         src="descriptions.vtt" 
         srclang="en" 
         label="Audio Description">
</video>
```

### iFrame Accessibility
```html
<iframe src="https://example.com" 
        title="Description of iframe content"
        width="600" 
        height="400">
  <p>Alternative content for screen readers</p>
</iframe>
```

---

## CSS Styling Examples

### Responsive Video Container
```css
.video-container {
  position: relative;
  width: 100%;
  height: 0;
  padding-bottom: 56.25%; /* 16:9 aspect ratio */
}

.video-container video {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
}
```

### Custom Audio Controls Styling
```css
audio {
  width: 100%;
  height: 40px;
  background: #f1f1f1;
  border-radius: 20px;
}

audio::-webkit-media-controls-panel {
  background-color: #333;
}
```

### iFrame Border and Shadow
```css
iframe {
  border: 1px solid #ddd;
  border-radius: 8px;
  box-shadow: 0 4px 8px rgba(0,0,0,0.1);
}
```

---

## JavaScript Integration

### Audio Control with JavaScript
```javascript
const audio = document.getElementById('myAudio');

// Play/Pause toggle
function togglePlay() {
  if (audio.paused) {
    audio.play();
  } else {
    audio.pause();
  }
}

// Volume control
function setVolume(value) {
  audio.volume = value / 100;
}
```

### Video Events
```javascript
const video = document.getElementById('myVideo');

video.addEventListener('loadstart', () => {
  console.log('Started loading');
});

video.addEventListener('canplay', () => {
  console.log('Can start playing');
});

video.addEventListener('ended', () => {
  console.log('Playback ended');
});
```

---

## Common Issues and Solutions

### Issue: Video not playing on mobile
**Solution**: Add `playsinline` attribute
```html
<video controls playsinline>
  <source src="video.mp4" type="video/mp4">
</video>
```

### Issue: Autoplay blocked by browser
**Solution**: Start muted and let user unmute
```html
<video autoplay muted controls>
  <source src="video.mp4" type="video/mp4">
</video>
```

### Issue: iFrame not loading due to X-Frame-Options
**Solution**: Check if the target site allows framing, use alternatives like links

### Issue: Large video files loading slowly
**Solution**: Use video compression and multiple quality options
```html
<video controls>
  <source src="video-1080p.mp4" type="video/mp4" media="(min-width: 1200px)">
  <source src="video-720p.mp4" type="video/mp4" media="(min-width: 800px)">
  <source src="video-480p.mp4" type="video/mp4">
</video>
```

This guide covers the essential aspects of working with audio, video, and iframe elements in HTML5. Remember to always test across different browsers and devices for the best user experience.
